<!-- views/superhero/search.ejs - Search results page -->
<%- include('../layouts/main', { title: 'Search Results' }) %>

<% function body() { %>
  <div class="mb-4">
    <h2>Search Results for "<%= query %>"</h2>
    
    <form action="/superhero/search" method="GET" class="mt-3">
      <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Search heroes..." name="query" value="<%= query %>">
        <button class="btn btn-primary" type="submit">Search</button>
      </div>
    </form>
  </div>
  
  <!-- Hero cards -->
  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mb-5">
    <% if (heroes && heroes.length > 0) { %>
      <% heroes.forEach(hero => { %>
        <div class="col">
          <%- include('../partials/hero-card', { hero: hero, profile: locals.profile }) %>
        </div>
      <% }) %>
    <% } else { %>
      <div class="col-12 text-center">
        <p>No heroes found matching "<%= query %>". Try a different search term.</p>
      </div>
    <% } %>
  </div>
  
  <div class="text-center mb-5">
    <a href="/" class="btn btn-outline-primary">Back to All Heroes</a>
  </div>
<% } %>

<% if (typeof body === 'function') { %>
  <% body() %>
<% } %>
